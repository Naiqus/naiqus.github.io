<section id="table-of-contents" class="toc">
  <header>
    <h3>Overview</h3>
  </header>
<div id="drawer">
<ul id="markdown-toc">
  <li><a href="#introduction">1. Introduction</a></li>
  <li><a href="#installation">2. Installation</a></li>
  <li><a href="#need-to-kown">3. Need to kown</a>    <ul>
      <li><a href="#architecture">Architecture:</a></li>
    </ul>
  </li>
</ul>

  </div>
</section>
<!-- /#table-of-contents -->

<h2 id="introduction">1. Introduction</h2>
<blockquote>
  <p>It is immediately noticeable, that GEF is fairly complex and it needs a notable amount of work to get used to the framework. Therefore, and also to homogenize their tooling, SAP built a framework that hides GEF’s complexities from the developer and bridges EMF and GEF to ease and speed up the development of graphical editors. </p>
</blockquote>

<h2 id="installation">2. Installation</h2>
<p>The installation source of the updatest release is included in the official release update channel. Install the “Graphiti SDK Plus” which includes a tutorial in the help document.</p>

<h2 id="need-to-kown">3. Need to kown</h2>

<h3 id="architecture">Architecture:</h3>

<p><img src="/images/grafiti-architecture.png" alt="Basic Architecture" /></p>

<ol>
  <li><strong>Interaction Component</strong>: deal with the requests of input (from mouse, keyboard), like click, drag-and-drop, etc. Passing them to Diagram Type Agent. </li>
  <li><strong>Rendering Engine</strong>: to display the current data on the screen. Based on GEF in conjuction with Draw2d.</li>
  <li>
    <p><strong>Diagram Type Agent</strong>: has to be implemented by developer and could make use of a lot of services as well as standard implementations. With these implementations (Actions like <em>move, resize, delete, remove and print</em>), one can build a functional editor very quickly. It could also be incrementally implemented in the further development. The major task of Diagram Type Agent is to modify the model data. Servaral models are applied there as follows:</p>

    <ol>
      <li><strong>Domain Model</strong>: contains the model which needs to be graphically displayed. A <em>.ecore</em> model for example could be used here. In Graphiti, the data of Domain model is called <strong>Business Objects</strong>.</li>
      <li><strong>Protogram Model</strong>: ? contains all the information for displaying a diagram. Needs some redundant storage of data. Not quite clear. complish this part late.</li>
      <li><strong>Link Model</strong>: the relation between Domain Model and Protogram Model. Connecting data from Domain Model to the graphical representation from Protogram Model. This is necessory for some actions on the editor, like moving and deleting objects, which changes data of Domain Model as well.</li>
    </ol>
  </li>
</ol>

<p>Example: User clicks on a kind of “Create” tool on the tools palette and draws a rectangle in the editor which indicates a rectangle object with the specified size and position should be created. Then the Diagram Type Agent act as following:</p>

<ul>
  <li>Create a new object in the Domain Model,</li>
  <li>Create the graphical visualization in the Pictogram Model. E.g. create Graphics Algorithms like a Rounded Rectangle. Initial them with colors and fonts and the layout.</li>
  <li>Create link between the Pictogram Model and Domain Model.</li>
</ul>

<p><img src="/images/diagram-type-agent-new.png" alt="Inside Diagram Type Agent" /></p>

<p><strong>Features</strong> are needed from developers like operations. <strong>Feature Provider</strong> supplies the needed features. Processing the features leads to modifing the datas in the models. <em>*Diagram Type Provider</em> handels the requests from interactive components. It also decides when to synchronise the Domain and Pictogram Models.</p>

<p>The <strong>Diagram Type Agent</strong> is implemented in 4 steps:</p>

<ol>
  <li>Implement a <em>Diagram Type Provider</em></li>
  <li>Register it for a new <em>Diagram Type</em>.</li>
  <li>Create a <em>Feature Provider</em>.</li>
  <li>Create Feature, for example: <em>Add Feature</em>.</li>
</ol>

